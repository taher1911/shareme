{"version":3,"file":"static/js/415.624f4921.chunk.js","mappings":"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","sources":["pages/Home.jsx","sanity/client.js","utils/data.js"],"sourcesContent":["import React, { useState, useRef, useEffect, lazy } from \"react\";\nimport { HiMenu } from \"react-icons/hi\";\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport { Link, Route, Routes, useNavigate } from \"react-router-dom\";\n\nimport { userQuery } from \"../utils/data\";\nimport { fetchUser } from \"../utils/fetchUser\";\nimport { client } from \"../sanity/client\";\nimport logo from \"../assets/logo.png\";\n\nconst Sidebar = lazy(() => import(\"../components/home/Sidebar\"));\nconst UserProfile = lazy(() => import(\"../components/home/UserProfile\"));\nconst Pins = lazy(() => import(\"../components/home/Pins\"));\nconst Account = lazy(() => import(\"../components/ui/Account\"));\n\nconst Home = () => {\n  const [toggleSidebar, setToggleSidebar] = useState(false);\n  const [user, setUser] = useState(null);\n  const scrollRef = useRef(null);\n\n  const navigate = useNavigate();\n\n  const userInfo = fetchUser();\n  if (!userInfo) {\n    navigate(\"/login\", { replace: true });\n  }\n\n  useEffect(() => {\n    const query = userQuery(userInfo?.sub);\n    client.fetch(query).then((data) => setUser(data[0]));\n  }, [userInfo?.sub]);\n\n  useEffect(() => {\n    scrollRef.current.scrollTo(0, 0);\n  }, []);\n\n  return (\n    <div className=\"flex bg-gray-50 md:flex-row flex-col h-screen transaction-height duration-75 ease-out \">\n      {/* pc version */}\n      <div className=\"hidden md:flex h-screen flex-initial\">\n        <Sidebar user={user && user} />\n      </div>\n      {/* mobile version  */}\n      <div className=\"flex md:hidden flex-row\">\n        <div className=\"p-2 w-full flex flex-row justify-between items-center shadow-md\">\n          <HiMenu\n            fontSize={40}\n            className=\"cursor-pointer\"\n            onClick={() => setToggleSidebar(true)}\n          />\n          <Link to=\"/\">\n            <img src={logo} alt=\"logo\" className=\"w-28\" />\n          </Link>\n          <Account user={user && user} />\n        </div>\n        {toggleSidebar && (\n          <div className=\"fixed w-4/5 bg-white h-screen overflow-y-auto shadow-md z-10 animate-slide-in\">\n            <div className=\"absolute w-full flex justify-end items-center p-2\">\n              <AiFillCloseCircle\n                fontSize={30}\n                className=\"cursor-pointer\"\n                onClick={() => setToggleSidebar(false)}\n              />\n            </div>\n            <Sidebar user={user && user} closeToggle={setToggleSidebar} />\n          </div>\n        )}\n      </div>\n\n      <div className=\"pb-2 flex-1 h-screen overflow-y-scroll \" ref={scrollRef}>\n        <Routes>\n          <Route\n            path=\"/user-profile/:userId\"\n            element={<UserProfile uId={user && user?._id} />}\n          />\n          <Route path=\"/*\" element={<Pins user={user && user} />} />\n        </Routes>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import { createClient } from \"@sanity/client\";\nimport imageUrlBuilder from \"@sanity/image-url\";\n\nexport const client = createClient({\n  projectId: process.env.REACT_APP_SANITY_PROJECT_ID,\n  dataset: \"production\",\n  apiVersion: \"2023-04-13\",\n  useCdn: true,\n  token: process.env.REACT_APP_SANITY_TOKEN,\n  ignoreBrowserTokenWarning: true,\n});\n\nconst builder = imageUrlBuilder(client);\nexport const urlFor = (source) => builder.image(source);\n","export const categories = [\n  {\n    name: \"cars\",\n    image:\n      \"https://i.pinimg.com/750x/eb/47/44/eb4744eaa3b3ccd89749fa3470e2b0de.jpg\",\n  },\n  {\n    name: \"fitness\",\n    image:\n      \"https://i.pinimg.com/236x/25/14/29/251429345940a47490cc3d47dfe0a8eb.jpg\",\n  },\n  {\n    name: \"wallpaper\",\n    image:\n      \"https://i.pinimg.com/236x/03/48/b6/0348b65919fcbe1e4f559dc4feb0ee13.jpg\",\n  },\n  {\n    name: \"websites\",\n    image:\n      \"https://i.pinimg.com/750x/66/b1/29/66b1296d36598122e6a4c5452b5a7149.jpg\",\n  },\n  {\n    name: \"photo\",\n    image:\n      \"https://i.pinimg.com/236x/72/8c/b4/728cb43f48ca762a75da645c121e5c57.jpg\",\n  },\n  {\n    name: \"food\",\n    image:\n      \"https://i.pinimg.com/236x/7d/ef/15/7def15ac734837346dac01fad598fc87.jpg\",\n  },\n  {\n    name: \"nature\",\n    image:\n      \"https://i.pinimg.com/236x/b9/82/d4/b982d49a1edd984c4faef745fd1f8479.jpg\",\n  },\n  {\n    name: \"art\",\n    image:\n      \"https://i.pinimg.com/736x/f4/e5/ba/f4e5ba22311039662dd253be33bf5f0e.jpg\",\n  },\n  {\n    name: \"travel\",\n    image:\n      \"https://i.pinimg.com/236x/fa/95/98/fa95986f2c408098531ca7cc78aee3a4.jpg\",\n  },\n  {\n    name: \"quotes\",\n    image:\n      \"https://i.pinimg.com/236x/46/7c/17/467c17277badb00b638f8ec4da89a358.jpg\",\n  },\n  {\n    name: \"horses\",\n    image:\n      \"https://res.cloudinary.com/freelancer3223/image/upload/v1681815650/pexels-helena-lopes-1996333_bhsjm1.jpg\",\n  },\n  {\n    name: \"cats\",\n    image:\n      \"https://i.pinimg.com/236x/6c/3c/52/6c3c529e8dadc7cffc4fddedd4caabe1.jpg\",\n  },\n  {\n    name: \"dogs\",\n    image:\n      \"https://i.pinimg.com/236x/1b/c8/30/1bc83077e363db1a394bf6a64b071e9f.jpg\",\n  },\n  {\n    name: \"others\",\n    image:\n      \"https://i.pinimg.com/236x/2e/63/c8/2e63c82dfd49aca8dccf9de3f57e8588.jpg\",\n  },\n];\n\nexport const userQuery = (userId) => {\n  const query = `*[_type == 'user' && _id == '${userId}']`;\n  return query;\n};\n\nexport const pinDetailQuery = (pinId) => {\n  const query = `*[_type == \"pin\" && _id == '${pinId}']{\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    category,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n   save[]{\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n    comments[]{\n      comment,\n      _key,\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    }\n  }`;\n  return query;\n};\n\nexport const pinDetailMorePinQuery = (pin) => {\n  const query = `*[_type == \"pin\" && category == '${pin.category}' && _id != '${pin._id}' ]{\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n    save[]{\n      _key,\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n  }`;\n  return query;\n};\n\nexport const searchQuery = (searchTerm) => {\n  const query = `*[_type == 'pin' && category match '${searchTerm}*' || postedBy -> userName match '${searchTerm}*']{\n    image {\n      asset ->{\n        url\n      }\n    },\n    _id,\n    postedBy -> {\n      _id,\n      userName,\n      image\n    },\n    save[]{\n      _key,\n      postedBy -> {\n        _id,\n        userName,\n        image\n      },\n    },\n\n  }`;\n  return query;\n};\n\nexport const feedQuery = `*[_type == 'pin' ] | order(_createdAt desc) {\n  image {\n    asset ->{\n      url\n    }\n  },\n  _id,\n  postedBy -> {\n    _id,\n    userName,\n    image\n  },\n  save[]{\n    _key,\n    postedBy -> {\n      _id,\n      userName,\n      image\n    },\n  },\n\n}`;\n\nexport const userCreatedPinsQuery = (userId) => {\n  const query = `*[ _type == 'pin' && userId == '${userId}'] | order(_createdAt desc){\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n    save[]{\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n  }`;\n  return query;\n};\n\nexport const userSavedPinsQuery = (userId) => {\n  const query = `*[_type == 'pin' && '${userId}' in save[].userId ] | order(_createdAt desc) {\n    image{\n      asset->{\n        url\n      }\n    },\n    _id,\n    postedBy->{\n      _id,\n      userName,\n      image\n    },\n    save[]{\n      postedBy->{\n        _id,\n        userName,\n        image\n      },\n    },\n  }`;\n  return query;\n};\n"],"names":["Sidebar","lazy","UserProfile","Pins","Account","_useState","useState","_useState2","_slicedToArray","toggleSidebar","setToggleSidebar","_useState3","_useState4","user","setUser","scrollRef","useRef","navigate","useNavigate","userInfo","fetchUser","replace","useEffect","query","userQuery","sub","client","then","data","current","scrollTo","_jsxs","className","children","_jsx","HiMenu","fontSize","onClick","Link","to","src","logo","alt","AiFillCloseCircle","closeToggle","ref","Routes","Route","path","element","uId","_id","createClient","projectId","process","dataset","apiVersion","useCdn","token","ignoreBrowserTokenWarning","builder","imageUrlBuilder","urlFor","source","image","categories","name","userId","concat","pinDetailQuery","pinId","pinDetailMorePinQuery","pin","category","searchQuery","searchTerm","feedQuery","userCreatedPinsQuery","userSavedPinsQuery"],"sourceRoot":""}