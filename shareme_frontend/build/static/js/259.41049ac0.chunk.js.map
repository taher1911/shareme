{"version":3,"file":"static/js/259.41049ac0.chunk.js","mappings":"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","sources":["pages/Login.jsx","sanity/client.js"],"sourcesContent":["import React from \"react\";\n\n//google auth\nimport { useGoogleLogin } from \"@react-oauth/google\";\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\nimport axios from \"axios\";\n// import {GoogleLogin} from '@react-oauth/google'\n// import jwt_decode from \"jwt-decode\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FcGoogle } from \"react-icons/fc\";\nimport { FaFacebookF } from \"react-icons/fa\";\nimport shareVideo from \"../assets/share.mp4\";\nimport logo from \"../assets/logowhite.png\";\n\nimport { client } from \"../sanity/client\";\n\nconst Login = () => {\n  const navigate = useNavigate();\n\n  const responseFacebook = async (response) => {\n    try {\n      const { name, picture, id } = response;\n      localStorage.setItem(\n        \"user\",\n        JSON.stringify({\n          name,\n          picture: picture.data.url,\n\n          sub: id,\n        })\n      );\n\n      const doc = {\n        _id: id,\n        _type: \"user\",\n        userName: name,\n        image: picture.data.url,\n      };\n      const user = await client.createIfNotExists(doc);\n      if (user) {\n        navigate(\"/\", { replace: true });\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const login = useGoogleLogin({\n    onSuccess: async (tokenResponse) => {\n      try {\n        const res = await axios.get(\n          \"https://www.googleapis.com/oauth2/v3/userinfo\",\n          {\n            headers: {\n              Authorization: `Bearer ${tokenResponse.access_token}`,\n            },\n          }\n        );\n\n        localStorage.setItem(\"user\", JSON.stringify(res.data));\n        const { name, picture, sub } = res.data;\n        const doc = {\n          _id: sub,\n          _type: \"user\",\n          userName: name,\n          image: picture,\n        };\n        const user = await client.createIfNotExists(doc);\n        if (user) {\n          navigate(\"/\", { replace: true });\n        }\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    onFailure: (response) => console.log(response),\n  });\n\n  // const onSuccess = (response) => {\n  //   const decoded = jwt_decode(response.credential);\n  //   console.log(response.credential);\n  //   console.log(decoded);\n  // };\n\n  // const onFailure = (response) => {\n  //   console.log(response);\n  // };\n\n  return (\n    <div className=\"flex justify-start items-center flex-col h-screen\">\n      <div className=\"w-full h-full relative\">\n        <video\n          src={shareVideo}\n          type=\"video/mp4\"\n          loop\n          controls={false}\n          muted\n          autoPlay\n          className=\"w-full h-full object-cover\"\n        />\n        <div className=\"absolute flex flex-col  justify-center items-center top-0 left-0 bottom-0 right-0 bg-blackOverlay\">\n          <div className=\"p-5\">\n            <img src={logo} width=\"130px\" alt=\"logo\" />\n          </div>\n          <div className=\"shadow-2xl\">\n            {/* facebook login  */}\n\n            <FacebookLogin\n              appId={process.env.REACT_APP_FACEBOOK_TOKEN}\n              fields=\"name,email,picture\"\n              callback={responseFacebook}\n              render={(renderProps) => (\n                <button\n                  type=\"button\"\n                  className=\"bg-mainColor flex justify-center items-center p-3 rounded-lg cursor-pointer outline-none w-full mb-3\"\n                  onClick={renderProps.onClick}\n                >\n                  {\" \"}\n                  <FaFacebookF className=\"mr-4\" /> Sign in with facebook\n                </button>\n              )}\n            />\n\n            {/* custom google login button  */}\n            <button\n              type=\"button\"\n              className=\"bg-mainColor flex justify-center items-center p-3 rounded-lg cursor-pointer outline-none w-full\"\n              onClick={() => login()}\n            >\n              {\" \"}\n              <FcGoogle className=\"mr-4\" /> Sign in with google\n            </button>\n\n            {/* google login button */}\n            {/* <GoogleLogin onSuccess={onSuccess} onFailure={onFailure} /> */}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;\n","import { createClient } from \"@sanity/client\";\nimport imageUrlBuilder from \"@sanity/image-url\";\n\nexport const client = createClient({\n  projectId: process.env.REACT_APP_SANITY_PROJECT_ID,\n  dataset: \"production\",\n  apiVersion: \"2023-04-13\",\n  useCdn: true,\n  token: process.env.REACT_APP_SANITY_TOKEN,\n  ignoreBrowserTokenWarning: true,\n});\n\nconst builder = imageUrlBuilder(client);\nexport const urlFor = (source) => builder.image(source);\n"],"names":["navigate","useNavigate","responseFacebook","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","name","picture","id","doc","wrap","_context","prev","next","localStorage","setItem","JSON","stringify","data","url","sub","_id","_type","userName","image","client","sent","replace","t0","console","log","stop","_x","apply","arguments","login","useGoogleLogin","onSuccess","_onSuccess","_callee2","tokenResponse","res","_res$data","_context2","axios","headers","Authorization","concat","access_token","_x2","onFailure","_jsx","className","children","_jsxs","src","shareVideo","type","loop","controls","muted","autoPlay","width","alt","FacebookLogin","appId","process","fields","callback","render","renderProps","onClick","FaFacebookF","FcGoogle","createClient","projectId","dataset","apiVersion","useCdn","token","ignoreBrowserTokenWarning","builder","imageUrlBuilder","urlFor","source"],"sourceRoot":""}